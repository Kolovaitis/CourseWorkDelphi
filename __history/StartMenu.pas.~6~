unit StartMenu;

interface

uses
   System.SysUtils, System.Types, System.UITypes, System.Classes,
   System.Variants,
   FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs, FMX.ListBox,
   FMX.Controls.Presentation, FMX.StdCtrls, Main, GameRecords, FMX.Menus,
   ResultsForm;

type
   TFormStart = class(TForm)
      ComboBoxLevelSelection: TComboBox;
      ButtonStart: TButton;
      MIResults: TMenuItem;
    MBMain: TMenuBar;
      procedure ButtonStartClick(Sender: TObject);
      procedure ViewResults();
      procedure MIResultsClick(Sender: TObject);
   private

   public const
      Level: array [0 .. 3, 1 .. 2] of Integer = ((2, 2), (3, 2),
        (2, 4), (3, 4));
   end;

var
   FormStart: TFormStart;
   MainForm: TFormMain;
   ResultsForm: TFormResults;

implementation

{$R *.fmx}

procedure TFormStart.ButtonStartClick(Sender: TObject);

var

   Index: Integer;
begin
   Index := ComboBoxLevelSelection.ItemIndex;
   if (MainForm <> nil) then
      MainForm.Destroy;
   MainForm := TFormMain.Create(Self, Level[Index, 1], Level[Index, 2], 2);
   MainForm.ShowModal;
end;

procedure TFormStart.MIResultsClick(Sender: TObject);
begin
   ViewResults;
end;

procedure TFormStart.ViewResults;
begin

   if (ResultsForm <> nil) then
      ResultsForm.Destroy;
   ResultsForm := TFormResults.Create(Self);
   ResultsForm.ShowModal;
end;

end.
