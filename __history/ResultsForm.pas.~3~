unit ResultsForm;

interface

uses
  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,
  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs, System.Rtti,
  FMX.Grid.Style, FMX.Controls.Presentation, FMX.ScrollBox, FMX.Grid, GameRecords;

type
  TFormResults = class(TForm)
    GrTable: TGrid;
    procedure FormShow(Sender: TObject);
    procedure GrTableGetValue(Sender: TObject; const ACol, ARow: Integer;
      var Value: TValue);
  private
    A: array of TValue;
    DataRecords: TDataType;
  public
    function TimeToStr(TimeSec:Integer):String;
    function FieldToStr(Cols, Rows): String;
  end;

var
  FormResults: TFormResults;

implementation

{$R *.fmx}

function TFormResults.FieldToStr(Cols, Rows): String;
begin
Minutes := TimeSec div 60;
   Seconds := TimeSec mod 60;
   Strmin := IntToStr(Minutes);
   StrSec := IntToStr(Seconds);
   if (Length(Strmin) < 2) then
      Strmin := '0' + Strmin;
   if (Length(StrSec) < 2) then
      StrSec := '0' + StrSec;
   FieldToStr:= 'Время: ' + Strmin + ':' + StrSec;
end;

procedure TFormResults.FormShow(Sender: TObject);
var
   ColumnName, ColumnTime, ColumnCount, ColumnField: TColumn;
begin
   ColumnName:=TColumn.Create(Self);
   ColumnName.Parent:=GrTable;
   ColumnName.Header:='Имя';

   ColumnTime:=TColumn.Create(Self);
   ColumnTime.Parent:=GrTable;
   ColumnTime.Header:='Время';

   ColumnCount:=TColumn.Create(Self);
   ColumnCount.Parent:=GrTable;
   ColumnCount.Header:='Количество попыток';
   ColumnCount.Width:=135;

   ColumnField:=TColumn.Create(Self);
   ColumnField.Parent:=GrTable;
   ColumnField.Header:='Размер поля';
end;

procedure TFormResults.GrTableGetValue(Sender: TObject; const ACol,
  ARow: Integer; var Value: TValue);
begin
   with DataRecords[ARow] do
   begin
      case ACol of
         0: Value:=Name;
         1: Value:=Time;
         2: Value:= Steps;
         3: Value:=
      end;
   end;
end;

function TFormResults.TimeToStr(TimeSec: Integer): String;
var
Minutes: Integer;
   Seconds: Integer;
   Strmin: string;
   StrSec: string;
begin
   Minutes := TimeSec div 60;
   Seconds := TimeSec mod 60;
   Strmin := IntToStr(Minutes);
   StrSec := IntToStr(Seconds);
   if (Length(Strmin) < 2) then
      Strmin := '0' + Strmin;
   if (Length(StrSec) < 2) then
      StrSec := '0' + StrSec;
   FieldToStr:= 'Время: ' + Strmin + ':' + StrSec;
end;

end.
